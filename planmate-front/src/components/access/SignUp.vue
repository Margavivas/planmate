<template>
  <div class="principalContainer">
    <div class="singUpContainer">
      <section class="logo">
          <svg xmlns="http://www.w3.org/2000/svg" width="89" height="91" viewBox="0 0 89 91" fill="none">
            <g clip-path="url(#clip0_10_247)">
              <path d="M32.0354 2.10513L35.8962 1.18721C38.1833 0.64306 40.0565 1.69839 40.5847 3.96294C41.1021 6.17803 39.8932 7.98638 37.6115 8.53053L36.0977 8.8933L36.8655 12.1912L34.5185 12.7518L32.0354 2.11612V2.10513ZM36.8764 6.40889C37.8239 6.18353 38.4719 5.66686 38.2051 4.52908C37.9383 3.39131 37.1269 3.18794 36.174 3.41329L34.8834 3.7211L35.5858 6.71669L36.8764 6.40889Z" fill="#E9FC88"/>
              <path d="M42.2674 0.148405L44.6253 0L45.3059 10.905L42.9481 11.0535L42.2674 0.148405Z" fill="#E9FC88"/>
              <path d="M46.3623 6.65074C46.6673 3.8805 48.791 2.74273 50.5771 2.9461C51.9711 3.1055 52.7063 3.96295 52.7934 4.26526H52.837L52.935 3.36933L55.2819 3.63316L54.3998 11.5866L52.0528 11.3228L52.1508 10.4213H52.1073C51.9548 10.6907 51.0509 11.3667 49.6568 11.2073C47.8707 11.004 46.052 9.42097 46.3569 6.65074H46.3623ZM50.3811 9.15164C51.4102 9.26707 52.4177 8.65146 52.5592 7.35429C52.7008 6.05162 51.8568 5.23264 50.8276 5.11172C49.8256 4.99629 48.8237 5.62839 48.6766 6.91457C48.5351 8.20075 49.3791 9.03622 50.3756 9.15164H50.3811Z" fill="#E9FC88"/>
              <path d="M57.9883 4.32019L60.1992 5.15566L59.8452 6.10655C60.4932 5.62836 61.3917 5.44148 62.4481 5.84272C63.9456 6.40886 64.8713 7.82696 64.0164 10.119L62.3773 14.5272L60.1665 13.6917L61.6585 9.67378C62.007 8.73937 61.7947 7.86543 60.8798 7.51915C59.9813 7.17837 59.2516 7.68954 58.9031 8.62944L57.4111 12.6474L55.2003 11.8119L57.9829 4.32019H57.9883Z" fill="#E9FC88"/>
              <path d="M69.8485 14.0765C70.4638 13.274 70.3276 12.543 69.7613 12.1033C69.1732 11.6416 68.4 11.6636 67.7846 12.4661L65.0401 16.0388L63.1724 14.5767L68.0297 8.25574L69.8975 9.71781L69.2985 10.4983C70.039 10.24 70.9049 10.3169 71.738 10.9655C72.4731 11.5426 72.8707 12.3561 72.7454 13.351C73.5677 13.0817 74.5696 13.1861 75.5607 13.9556C76.8839 14.9944 77.1943 16.5994 75.7023 18.5452L72.8979 22.1949L71.0301 20.7328L73.7746 17.1601C74.3899 16.3576 74.2538 15.6265 73.6875 15.1868C73.083 14.7141 72.3261 14.7471 71.7108 15.5496L68.9663 19.1223L67.0985 17.6602L69.843 14.0875L69.8485 14.0765Z" fill="#E9FC88"/>
              <path d="M76.2087 20.3371C78.4794 18.7486 80.7229 19.6171 81.7467 21.1066C82.5472 22.2719 82.3893 23.3931 82.2204 23.657L82.2477 23.6955L82.9882 23.1788L84.3333 25.141L77.8205 29.6976L76.4755 27.7354L77.2161 27.2187L77.1889 27.1802C76.8839 27.2462 75.784 26.9988 74.9889 25.8391C73.9652 24.3495 73.9488 21.9201 76.2196 20.3371H76.2087ZM76.9874 25.0366C77.5755 25.8941 78.6973 26.2568 79.7591 25.5093C80.8264 24.7618 80.8809 23.58 80.2928 22.7226C79.721 21.8871 78.5883 21.5353 77.5374 22.2719C76.4864 23.0084 76.4102 24.2011 76.9874 25.0366Z" fill="#E9FC88"/>
              <path d="M80.6521 30.3847L83.9793 28.9611L83.5219 27.8673L85.2481 27.1307L85.7055 28.2245L87.5733 27.4275L88.4936 29.6261L86.6258 30.4231L87.2738 31.9677L85.5476 32.7042L84.8996 31.1597L81.9209 32.4349C81.5561 32.5888 81.2511 32.9735 81.5289 33.6386C81.5996 33.809 81.7358 34.0508 81.9318 34.2872L80.2764 34.9962C79.8789 34.8313 79.5141 34.2487 79.3017 33.743C78.7299 32.3799 78.975 31.1102 80.6467 30.3957L80.6521 30.3847Z" fill="#E9FC88"/>
              <path d="M84.0229 34.3915C86.6476 33.8254 88.4827 35.4963 88.9074 37.5135C89.3267 39.5033 88.4446 42.1306 84.7907 42.3944L83.6145 36.8265C82.8467 37.3212 82.5907 38.1951 82.814 39.234C82.961 39.9265 83.2551 40.5091 83.8051 40.9873L82.9392 42.2735C81.9972 41.8008 81.1804 40.8114 80.8809 39.3824C80.4234 37.2167 81.4744 34.9412 84.0229 34.397V34.3915ZM86.0159 39.9925C86.8763 39.6352 87.1377 38.7448 86.9743 37.9588C86.8109 37.1783 86.2392 36.4802 85.2644 36.4252L86.0159 39.9925Z" fill="#E9FC88"/>
              <path d="M83.9575 59.2907C86.4624 60.467 86.8545 62.858 86.0976 64.5069C85.504 65.7931 84.4694 66.2218 84.1536 66.2053L84.1318 66.2493L84.9486 66.6341L83.9521 68.7997L76.7641 65.4248L77.7606 63.2592L78.5775 63.644L78.5992 63.6C78.3869 63.3636 78.0438 62.2863 78.6374 61.0002C79.3943 59.3512 81.4635 58.1145 83.963 59.2907H83.9575ZM80.3309 62.3413C79.8952 63.2922 80.1512 64.4465 81.3274 64.9961C82.5036 65.5458 83.5437 65.0016 83.9848 64.0507C84.4095 63.1273 84.1372 61.9675 82.9774 61.4234C81.8175 60.8792 80.7611 61.4234 80.3363 62.3413H80.3309Z" fill="#E9FC88"/>
              <path d="M82.4601 71.1411L80.9735 72.9934L80.1893 72.3558C80.4344 73.1308 80.32 74.0488 79.6121 74.9337C78.6047 76.1924 76.982 76.6266 75.0978 75.0821L71.4712 72.1195L72.9578 70.2672L76.2632 72.9714C77.031 73.6035 77.9186 73.6695 78.5339 72.9055C79.1383 72.1525 78.8879 71.295 78.1146 70.6629L74.8092 67.9586L76.2958 66.1063L82.4546 71.1466L82.4601 71.1411Z" fill="#E9FC88"/>
              <path d="M69.2821 74.0159L76.7314 78.1492L74.8419 79.6607L70.0608 76.8465L71.6835 82.1836L69.794 83.6952L67.4742 75.3405L66.6302 72.2844L68.4435 70.8334L69.2712 74.0213L69.2821 74.0159Z" fill="#E9FC88"/>
              <path d="M64.8223 80.0125L66.4614 83.261L67.5069 82.7223L68.3564 84.4097L67.3109 84.9484L68.2312 86.7732L66.1238 87.856L65.2035 86.0312L63.7223 86.7952L62.8729 85.1078L64.354 84.3438L62.8892 81.4361C62.7095 81.0789 62.312 80.7985 61.6749 81.1283C61.5115 81.2108 61.2828 81.3647 61.065 81.579L60.2482 79.9631C60.3843 79.5508 60.9288 79.1441 61.4189 78.8967C62.7258 78.2262 64.0001 78.3801 64.8223 80.0125Z" fill="#E9FC88"/>
              <path d="M62.0234 87.4438L59.7962 88.2463L57.1334 80.7051L59.3605 79.9026L62.0234 87.4438ZM62.9981 90.1975L60.7709 91L60.0793 89.0433L62.3065 88.2408L62.9981 90.1975Z" fill="#E9FC88"/>
              <path d="M51.9766 86.5094C52.0855 87.5208 52.6845 87.9495 53.3978 87.867C54.1384 87.7846 54.6775 87.2295 54.5686 86.2181L54.0731 81.722L56.42 81.4581L57.2913 89.4116L54.9443 89.6754L54.8354 88.697C54.4815 89.4006 53.8062 89.9557 52.7607 90.0766C51.835 90.1811 50.9909 89.8733 50.3974 89.0708C49.989 89.8458 49.1994 90.4724 47.9578 90.6153C46.2915 90.8022 44.9629 89.8678 44.6906 87.4163L44.1896 82.8268L46.5366 82.5629L47.0321 87.0591C47.141 88.0704 47.74 88.4991 48.4534 88.4167C49.2103 88.3342 49.733 87.7791 49.6241 86.7677L49.1286 82.2716L51.4756 82.0078L51.9711 86.5039L51.9766 86.5094Z" fill="#E9FC88"/>
              <path d="M43.1277 86.4214C42.6431 89.0872 40.4159 90.159 38.4011 89.7852C36.419 89.417 34.3497 87.5921 35.5041 84.0799L41.053 85.1132C40.8951 84.2063 40.1927 83.6402 39.158 83.4423C38.4665 83.3159 37.8239 83.3653 37.1705 83.7006L36.321 82.398C37.116 81.6999 38.3303 81.3151 39.757 81.5845C41.9189 81.9857 43.5961 83.8325 43.1223 86.4214H43.1277ZM37.2412 86.1411C37.2412 87.081 37.9546 87.6691 38.7333 87.812C39.512 87.9549 40.3669 87.6911 40.7917 86.8006L37.2358 86.1411H37.2412Z" fill="#E9FC88"/>
              <path d="M34.1047 82.5134L32.1933 81.8318L35.0086 78.3306L36.9036 79.0121L34.1047 82.5189V82.5134Z" fill="#E9FC88"/>
              <path d="M27.8479 81.9858C26.2905 84.2833 23.8891 84.2833 22.4025 83.261C21.2426 82.464 20.9975 81.3592 21.0574 81.0459L21.0193 81.0184L20.5129 81.7659L18.5634 80.4193L23.0396 73.818L24.989 75.1646L24.4826 75.9122L24.5207 75.9396C24.7876 75.7692 25.893 75.6044 27.0529 76.4013C28.5395 77.4292 29.4053 79.6883 27.8479 81.9858ZM25.4628 77.8744C24.6079 77.2863 23.4371 77.3522 22.702 78.4296C21.9668 79.5069 22.3317 80.6336 23.1866 81.2273C24.0143 81.7989 25.196 81.722 25.9202 80.6556C26.6445 79.5893 26.2905 78.4515 25.4574 77.8744H25.4628Z" fill="#E9FC88"/>
              <path d="M16.4996 78.5449L14.9313 76.7586L15.6828 76.0825C14.8878 76.1979 14.0056 75.9396 13.2596 75.0876C12.1977 73.8784 12.0398 72.191 13.8531 70.564L17.3437 67.4365L18.9119 69.2229L15.7264 72.0756C14.9858 72.7406 14.7734 73.6091 15.4214 74.3456C16.0585 75.0712 16.9407 74.9612 17.6813 74.2961L20.8614 71.4435L22.4297 73.2298L16.4996 78.5394V78.5449Z" fill="#E9FC88"/>
              <path d="M15.8462 64.9576L10.5859 71.6963L9.42057 69.5692L12.9546 65.2709L7.47111 66.0129L6.30579 63.8858L14.8497 62.9459L17.9753 62.6051L19.0971 64.6498L15.8462 64.9521V64.9576Z" fill="#E9FC88"/>
              <path d="M6.88303 54.8825L12.0616 55.6135L12.4973 57.7407L5.31474 62.2203L4.84099 59.9008L9.54039 57.213L4.16032 56.5534L3.73013 54.4428L8.41319 51.6945L3.044 51.0954L2.57025 48.7759L10.9181 50.0236L11.3537 52.1507L6.88303 54.888V54.8825Z" fill="#E9FC88"/>
              <path d="M0 45.8738L0.234153 43.4993L4.11674 43.884C3.49052 43.3729 3.08211 42.5429 3.19646 41.4106C3.35438 39.8001 4.47069 38.536 6.88302 38.7778L11.528 39.2395L11.2938 41.614L7.06271 41.1908C6.07709 41.0918 5.2984 41.5261 5.20583 42.5044C5.11325 43.4718 5.78849 44.0489 6.77411 44.1479L11.0052 44.5711L10.771 46.9456L0 45.8738Z" fill="#E9FC88"/>
              <path d="M7.87407 37.4642C5.3365 36.5792 4.62315 34.1937 5.29294 32.248C5.95183 30.3297 8.04832 28.5379 11.3156 30.2143L9.46958 35.5954C10.379 35.5734 11.0433 34.9578 11.3864 33.9519C11.6151 33.2813 11.6641 32.6327 11.4354 31.9347L12.8348 31.2861C13.4012 32.182 13.5918 33.4572 13.118 34.8368C12.3992 36.931 10.3408 38.3271 7.87407 37.4697V37.4642ZM9.03394 31.6324C8.11367 31.4895 7.43299 32.1161 7.17161 32.8691C6.91023 33.6221 7.04092 34.518 7.85229 35.0787L9.03394 31.6324Z" fill="#E9FC88"/>
              <path d="M7.75427 26.6415L8.95227 24.5858L10.8037 25.6851C9.82898 24.8057 9.33889 23.6185 10.0631 22.3708C10.1557 22.2114 10.2592 22.063 10.4171 21.92L12.3502 23.0688C12.2304 23.2117 12.1324 23.3491 12.0344 23.525C11.2393 24.8882 11.6859 26.2128 12.9764 26.9768L15.7863 28.6478L14.5883 30.7034L7.75972 26.6415H7.75427Z" fill="#E9FC88"/>
              <path d="M14.2507 23.3492C12.2413 21.5518 12.4809 19.0729 13.8368 17.5339C15.171 16.0113 17.7848 15.1649 20.1699 17.9736L16.4289 22.2389C17.2784 22.5687 18.1278 22.2554 18.8249 21.4584C19.2877 20.9307 19.5763 20.3426 19.6308 19.6116L21.1718 19.5511C21.3515 20.5954 21.052 21.8486 20.0936 22.9424C18.6397 24.6024 16.2056 25.1026 14.2561 23.3547L14.2507 23.3492ZM17.5288 18.4023C16.7338 17.9186 15.868 18.2319 15.3398 18.831C14.817 19.4302 14.5992 20.3041 15.1329 21.1341L17.5288 18.4023Z" fill="#E9FC88"/>
              <path d="M24.047 13.6588C25.25 13.6588 26.2252 12.6744 26.2252 11.4602C26.2252 10.2459 25.25 9.2616 24.047 9.2616C22.844 9.2616 21.8688 10.2459 21.8688 11.4602C21.8688 12.6744 22.844 13.6588 24.047 13.6588Z" fill="#E9FC88"/>
              <path d="M86.1248 53.2336C87.3278 53.2336 88.303 52.2493 88.303 51.035C88.303 49.8208 87.3278 48.8364 86.1248 48.8364C84.9219 48.8364 83.9467 49.8208 83.9467 51.035C83.9467 52.2493 84.9219 53.2336 86.1248 53.2336Z" fill="#E9FC88"/>
              <circle cx="46" cy="47" r="27" fill="#BCB4FF"/>
            </g>
            <defs>
              <clipPath id="clip0_10_247">
                <rect width="89" height="91" fill="white"/>
              </clipPath>
            </defs>
          </svg>
        </section>
      <section class="signUpInfo card">
          <h2 class="demiBold"> Sign up</h2>
          <p class="content">Join now and transform your life. Get financially organized, 
            tackle tasks efficiently, and unlock a brighter future.</p>
        </section>
        <section class="formSignUp">
          <form @submit.prevent="register" class="formInfo">
            <label class="content" for="namme">Name</label>
            <input type="name" id="name" v-model="formData.name" required value="name">

            <label class="content"  for="email">Email</label>
            <input type="email" id="email" v-model="formData.email" required value="email">
      
            <label class="content"  for="password">Password</label>
            <input type="password" id="password" v-model="formData.password" required value="password">
      
            <button type="submit">Create Account</button>
          </form>
          <section class="permissions">
          Your account setup means you agree to our friendly 
          Terms of Service and Cookie Policy. By signing up. 
          Rest assured, your privacy matters. For details.
        </section>
          <svg xmlns="http://www.w3.org/2000/svg" width="110" height="2" viewBox="0 0 110 2" fill="none">
            <path d="M1 1H109.5" stroke="#BCB4FF" stroke-linecap="round"/>
          </svg>
          <section class="haveAccount">
            <p>Have an account?</p>
            <!-- <a>Sign Up</a> -->
            <router-link to="/signIn">Sign In</router-link>
          </section>
        </section>
    </div>
  </div>
  </template>
  
  <script>
  import { ref} from 'vue';
  import axios from 'axios';
  import { useAuthStore} from "../../../store/auth";
  import { useRouter } from 'vue-router';

  export default {
    setup() {
      const router = useRouter(); // Obtiene el enrutador
      const authStore = useAuthStore();
      const formData = ref({
        name: '',
        email: '',
        password: ''
      });

      // onMounted(() => {
      //   authStore.setUserName('nombre');
      //   authStore.setUserUserId('12');

      // });

      const register = (event) => {
        event.preventDefault(); // Evitar la recarga de la página
        axios.post('http://127.0.0.1:8000/api/register', formData.value)
            .then(response => {
            console.log('Registro exitoso:', response.data);
            alert('User Created');
            authStore.setUserName(response.data.name);
            authStore.setUserUserId(response.data.userId);
            authStore.setUserToken(response.data.token);
            router.push('/dashboard');
            })
            .catch(error => {
            console.error('Error en el registro:', error);
            console.log(err);
            });
        };

      return {
        formData,
        register,
        authStore
      };
    }
  };
  </script>

<style scoped>
 @import './styles/SignUp.css'; 
</style>