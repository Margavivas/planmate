<template>
    <div class="navigationBarContainer">
        <div :class="{ 'dashboardIcon': true, 'active': dashActive}" @click="irARuta('/dashboard')">
            <svg width="100" height="100" viewBox="0 0 257 257" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_83_10)">
                <path d="M138.78 74.76C138.78 56.76 138.74 38.76 138.79 20.76C138.83 7.41002 146.21 0.0400146 159.52 0.0300146C184.85 0.0100146 210.18 0.0100146 235.5 0.0300146C248.44 0.0400146 256.09 7.61002 256.1 20.44C256.13 56.61 256.13 92.78 256.1 128.94C256.1 141.9 248.63 149.35 235.57 149.38C210.24 149.43 184.91 149.42 159.59 149.38C146.1 149.36 138.83 142.15 138.79 128.75C138.74 110.75 138.78 92.75 138.78 74.75V74.76ZM154.83 74.05C154.83 92.04 154.9 110.04 154.77 128.03C154.74 131.75 155.71 133.44 159.8 133.41C184.95 133.27 210.1 133.29 235.25 133.39C238.98 133.4 240.14 131.96 240.13 128.35C240.04 92.53 240.04 56.71 240.13 20.89C240.13 17.14 238.67 15.99 235.08 16C210.1 16.1 185.11 16.13 160.13 15.97C155.86 15.94 154.73 17.55 154.77 21.56C154.93 39.05 154.84 56.55 154.84 74.04L154.83 74.05Z" fill="black"/>
                <path d="M0.0200472 181.12C0.0200472 163.12 -0.0099528 145.12 0.0200472 127.12C0.0500472 114.43 7.52005 106.85 20.18 106.82C45.84 106.75 71.5 106.75 97.16 106.82C109.95 106.85 117.3 114.23 117.32 127.06C117.37 163.39 117.38 199.73 117.32 236.06C117.3 248.72 109.71 256.15 96.97 256.17C71.48 256.2 45.98 256.2 20.49 256.17C7.64005 256.15 0.0400472 248.52 0.0200472 235.62C-0.0099528 217.45 0.0200472 199.29 0.0200472 181.12ZM16.05 181.33C16.05 198.99 16.15 216.65 15.98 234.31C15.94 238.49 17.01 240.26 21.57 240.22C46.39 240.04 71.2 240.08 96.02 240.19C99.8 240.21 101.38 239.14 101.37 235.1C101.26 199.28 101.27 163.46 101.37 127.65C101.37 123.88 99.9 122.78 96.32 122.8C71.34 122.9 46.35 122.93 21.37 122.78C17.14 122.76 15.95 124.31 15.99 128.36C16.15 146.02 16.06 163.68 16.06 181.34L16.05 181.33Z" fill="black"/>
                <path d="M58.8299 85.36C46.1699 85.36 33.5099 85.39 20.8399 85.36C7.43994 85.31 0.0499414 77.96 0.0199414 64.7C-5.85932e-05 49.87 -0.0100586 35.04 0.0299414 20.21C0.0699414 7.70004 7.76994 0.0400447 20.3499 0.0300447C46.0099 4.47016e-05 71.6599 -0.0099553 97.3199 0.0300447C109.68 0.0500447 117.25 7.57004 117.33 19.97C117.42 35.13 117.42 50.3 117.33 65.46C117.25 77.88 109.8 85.27 97.3099 85.35C84.4799 85.43 71.6499 85.37 58.8199 85.37L58.8299 85.36ZM58.5499 16.06C46.2299 16.06 33.9099 16.18 21.5899 15.99C17.5799 15.93 15.9199 17.09 15.9799 21.36C16.1799 35.51 16.1699 49.67 15.9799 63.82C15.9299 67.88 17.1599 69.41 21.3699 69.38C46.1799 69.23 70.9799 69.24 95.7899 69.38C99.7899 69.4 101.44 68.31 101.38 64.03C101.17 49.88 101.15 35.72 101.38 21.57C101.46 17.02 99.6999 15.91 95.4999 15.98C83.1799 16.19 70.8599 16.05 58.5399 16.05L58.5499 16.06Z" fill="black"/>
                <path d="M197.4 170.83C210.23 170.83 223.06 170.78 235.89 170.85C248.57 170.92 256.07 178.45 256.11 191.09C256.15 206.09 256.16 221.09 256.11 236.08C256.07 248.35 248.37 256.14 236.19 256.16C210.37 256.21 184.54 256.21 158.72 256.16C146.64 256.14 138.91 248.6 138.82 236.62C138.7 221.29 138.72 205.96 138.82 190.63C138.9 178.26 146.4 170.92 158.93 170.84C171.76 170.77 184.59 170.82 197.42 170.82L197.4 170.83ZM197.29 186.88C184.97 186.88 172.65 187 160.33 186.81C156.32 186.75 154.68 187.89 154.74 192.16C154.95 206.31 154.97 220.47 154.74 234.62C154.66 239.17 156.43 240.23 160.63 240.21C185.1 240.06 209.58 240.05 234.05 240.22C238.52 240.25 240.27 239.08 240.18 234.33C239.91 220.51 239.92 206.69 240.18 192.87C240.26 188.33 238.94 186.69 234.26 186.79C221.95 187.06 209.62 186.88 197.3 186.88H197.29Z" fill="black"/>
                </g>
                <defs>
                <clipPath id="clip0_83_10">
                <rect width="256.14" height="256.2" fill="white"/>
                </clipPath>
                </defs>
            </svg>
        </div>
        <div :class="{ 'savingsIcon': true, 'active': savingsActive}" @click="irARuta('/savingHub')">
            <svg width="100" height="100" viewBox="0 0 240 241" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_83_15)">
                <path d="M120.01 240.02C53.92 240.02 0.0400222 186.2 2.22326e-05 120.14C-0.0399778 53.8101 53.9 -0.079911 120.25 8.89552e-05C186.3 0.080089 240.05 54.0001 240.01 120.13C239.97 186.2 186.1 240.02 120.01 240.02ZM120.13 224.02C177.58 223.97 224 177.5 224.02 120.05C224.04 62.5801 177.64 16.1201 120.18 16.0401C62.51 15.9601 15.93 62.5801 16.04 120.26C16.15 177.69 62.68 224.08 120.13 224.03V224.02Z" fill="black"/>
                <path d="M88.0701 144.95C88.0101 139.84 90.9401 136.27 95.4601 135.95C100.02 135.62 103.23 138.53 104.05 143.74C104.13 144.23 104.08 144.75 104.19 145.23C105.57 151.59 114.67 155.4 124.41 153.71C132.81 152.25 136.56 148.17 135.89 141.44C135.42 136.73 132.61 133.81 128.62 132.07C123.9 130.01 119.03 128.3 114.17 126.55C109.46 124.86 104.77 123.13 100.62 120.25C90.9101 113.52 86.9401 104 88.3501 92.5501C89.7101 81.5101 97.1401 75.2701 107.23 72.2201C110.87 71.1201 112.31 69.8201 112.1 65.8701C111.78 59.7401 115.22 55.9701 120.16 56.0701C124.95 56.1601 128.29 59.7901 127.89 65.6601C127.6 69.9401 129.37 71.1301 133.06 72.3001C143.11 75.4701 150.19 81.8001 151.81 92.8201C152.7 98.8901 150.09 103.15 145.27 103.94C140.38 104.74 137.11 101.74 135.92 95.3801C135.89 95.2201 135.9 95.0501 135.86 94.8801C134.47 88.5101 125.37 84.6901 115.65 86.4001C107.19 87.8901 103.44 91.9401 104.14 98.6401C104.63 103.33 107.4 106.29 111.41 108.02C116.45 110.19 121.63 112.03 126.8 113.88C131.21 115.45 135.53 117.17 139.4 119.84C149.12 126.55 153.1 136.08 151.7 147.53C150.35 158.56 142.95 164.81 132.85 167.9C129.3 168.99 127.68 170.16 127.9 174.2C128.25 180.53 125.03 184.1 119.98 184.08C114.94 184.06 111.85 180.49 112.08 174.14C112.21 170.57 111.15 169.06 107.6 168.01C95.4001 164.43 88.1701 155.61 88.0601 144.97L88.0701 144.95Z" fill="black"/>
                </g>
                <defs>
                <clipPath id="clip0_83_15">
                <rect width="240.01" height="240.02" fill="white"/>
                </clipPath>
                </defs>
            </svg>
        </div>
        <div :class="{ 'taskIcon': true, 'active': taskActive}" @click="irARuta('/taskPage')">
            <svg width="232" height="231" viewBox="0 0 232 231" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_83_18)">
                <path d="M116 230.69C99.0101 230.35 81.9601 231.63 65.0501 229.51C26.0401 224.62 6.74009 206.68 2.67009 167.53C-0.889911 133.24 -0.899911 98.49 2.67009 64.2C6.74009 25.27 25.3301 6.72003 64.1301 2.67003C98.4301 -0.909969 133.17 -0.859969 167.47 2.63003C206.47 6.60003 225.32 25.45 229.15 64.48C232.57 99.28 232.76 134.49 228.88 169.3C224.61 207.66 202.36 227.1 163.48 229.92C147.66 231.07 131.83 230.39 116 230.69ZM214.68 116.09C214.33 100.27 215.15 84.44 213.89 68.64C211.42 37.74 197.88 21.76 167.14 18.7C133.17 15.31 98.8401 15.39 64.8601 18.66C34.9801 21.54 21.4901 35.1 18.6501 65.01C15.4401 98.83 15.4301 132.99 18.6601 166.81C21.5201 196.72 35.0201 210.23 64.9201 213.11C98.7401 216.38 132.9 216.34 166.71 213.14C196.79 210.29 209.39 196.53 213.44 166.52C215.7 149.8 214.29 132.91 214.67 116.1L214.68 116.09Z" fill="black"/>
                <path d="M147.81 165.11C138.98 165.11 130.14 165.16 121.31 165.09C115.43 165.05 111.85 161.94 111.89 157.1C111.92 152.32 115.56 149.12 121.41 149.09C139.08 149.02 156.74 149.02 174.41 149.09C180.2 149.11 183.87 152.41 183.85 157.2C183.83 162.01 180.24 165.04 174.32 165.08C165.49 165.14 156.65 165.09 147.82 165.09L147.81 165.11Z" fill="black"/>
                <path d="M147.8 90.5599C139.13 90.5599 130.47 90.6099 121.8 90.5399C115.6 90.4999 111.85 87.3699 111.88 82.4499C111.91 77.5399 115.6 74.5399 121.91 74.5299C139.24 74.4899 156.57 74.4799 173.91 74.5299C180.14 74.5499 183.88 77.6599 183.85 82.5699C183.81 87.4799 180.08 90.5 173.81 90.55C165.14 90.61 156.48 90.5599 147.81 90.5599H147.8Z" fill="black"/>
                <path d="M95.81 65.97C95.78 69.19 94.62 71.15 92.92 72.85C85.39 80.39 77.91 87.98 70.3 95.44C65.83 99.82 61.82 99.7 57.26 95.33C54.86 93.02 52.44 90.72 50.23 88.23C47.05 84.65 47.12 80.08 50.2 77C53.1 74.09 57.78 73.62 61 76.72C63.62 79.24 64.91 78.35 66.91 76.27C71.87 71.11 76.97 66.08 82.09 61.08C84.74 58.49 87.93 57.97 91.3 59.49C94.33 60.86 95.63 63.46 95.81 65.96V65.97Z" fill="black"/>
                <path d="M55.7599 149.33C57.9999 149.42 60.1399 150 61.5699 151.77C63.3999 154.02 64.6599 153.24 66.3099 151.53C71.1699 146.51 76.1299 141.57 81.1299 136.68C85.3199 132.58 90.0699 132.24 93.4699 135.65C96.8899 139.08 96.5699 143.79 92.4499 147.97C85.1999 155.31 77.91 162.62 70.55 169.86C65.89 174.45 61.8299 174.4 57.1399 169.86C54.6299 167.43 52.1199 164.99 49.8099 162.37C47.6399 159.92 47.2899 157 48.6399 153.98C50.0099 150.93 52.5099 149.55 55.7599 149.33Z" fill="black"/>
                </g>
                <defs>
                <clipPath id="clip0_83_18">
                <rect width="231.75" height="230.76" fill="white"/>
                </clipPath>
                </defs>
            </svg>
        </div>
        <div :class="{ 'thoughtIcon': true, 'active': notesActive}" @click="irARuta('/notesPage')">
            <svg width="212" height="217" viewBox="0 0 212 217" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0.00998659 107.1C0.00998659 77.94 -1.34143e-05 48.79 0.00998659 19.63C0.0299866 6.16999 6.13999 0.00999512 19.53 0.00999512C77.01 -0.0100049 134.49 -0.0100049 191.97 0.00999512C205.44 0.00999512 211.43 6.05999 211.44 19.63C211.45 64.61 211.38 109.6 211.53 154.58C211.55 159.66 209.95 163.37 206.35 166.9C191.13 181.84 176.08 196.95 161.09 212.12C158.06 215.18 154.81 216.56 150.48 216.55C107 216.45 63.51 216.52 20.03 216.47C7.54999 216.46 0.0699866 209.02 0.0399866 196.56C-0.0300134 166.74 0.0199866 136.91 0.0199866 107.09L0.00998659 107.1ZM11.53 107.76C11.53 137.08 11.51 166.4 11.54 195.71C11.54 202.36 13.77 204.9 19.88 204.91C61.36 204.96 102.84 204.91 144.31 204.99C147.87 204.99 148.91 203.6 148.87 200.24C148.73 190.25 148.76 180.25 148.86 170.26C148.96 160.26 155.13 154.03 165.06 153.91C174.55 153.8 184.06 153.6 193.54 153.98C198.64 154.18 200.03 152.56 200.01 147.51C199.82 105.2 199.91 62.89 199.9 20.58C199.9 12.39 199.04 11.56 190.61 11.56C133.97 11.56 77.34 11.56 20.7 11.56C12.56 11.56 11.54 12.58 11.54 20.81C11.53 49.79 11.54 78.78 11.54 107.76H11.53ZM160.47 193.73C170.07 184.41 179.72 175.04 189.53 165.5C181.3 165.5 173.03 165.45 164.77 165.53C162.28 165.55 160.55 166.99 160.51 169.51C160.39 177.91 160.46 186.31 160.46 193.73H160.47Z" fill="black"/>
            </svg>
        </div>
    </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import { useRouter } from 'vue-router';

// Variables
const router = useRouter();
const activeStateKey = 'activeState';
const dashActive = ref(false);
const savingsActive = ref(false);
const notesActive = ref(false);
const taskActive = ref(false);


function irARuta(ruta) {
  switch (ruta) {
    case '/savingHub':
      savingsActive.value = true;
      break;
    case '/dashboard':
      dashActive.value = true;
      break;
    case '/taskPage':
      taskActive.value = true;
      break;
    case '/notesPage':
      notesActive.value = true;
      break;
  }

  // Guardar el estado activo en localStorage
  localStorage.setItem(activeStateKey, ruta);
  router.push(ruta);
}


onMounted(() => {
  const activeRoute = localStorage.getItem(activeStateKey);
  if (activeRoute) {
    switch (activeRoute) {
      case '/savingHub':
        savingsActive.value = true;
        break;
      case '/dashboard':
        dashActive.value = true;
        break;
      case '/taskPage':
        taskActive.value = true;
        break;
      case '/notesPage':
        notesActive.value = true;
        break;
    }
  }
});
</script>


<style scoped>
@import url('./styles/NavBar.css');
</style>